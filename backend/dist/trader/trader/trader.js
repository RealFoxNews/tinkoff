'use strict';const _0x314ba2=_0x33f8;(function(_0x2ed209,_0x56e877){const _0x584ddb=_0x33f8,_0x1bc1c0=_0x2ed209();while(!![]){try{const _0x529382=-parseInt(_0x584ddb(0xee))/0x1+-parseInt(_0x584ddb(0xfc))/0x2+-parseInt(_0x584ddb(0x101))/0x3*(-parseInt(_0x584ddb(0xd3))/0x4)+-parseInt(_0x584ddb(0xed))/0x5+-parseInt(_0x584ddb(0xdc))/0x6+-parseInt(_0x584ddb(0x10f))/0x7*(-parseInt(_0x584ddb(0x110))/0x8)+parseInt(_0x584ddb(0xf6))/0x9*(parseInt(_0x584ddb(0xf2))/0xa);if(_0x529382===_0x56e877)break;else _0x1bc1c0['push'](_0x1bc1c0['shift']());}catch(_0x1903ae){_0x1bc1c0['push'](_0x1bc1c0['shift']());}}}(_0x3ac2,0x39f90));function _0x33f8(_0x333bf,_0x2d7177){const _0x3ac2c3=_0x3ac2();return _0x33f8=function(_0x33f848,_0x46cf6b){_0x33f848=_0x33f848-0xcb;let _0x229275=_0x3ac2c3[_0x33f848];return _0x229275;},_0x33f8(_0x333bf,_0x2d7177);}var __decorate=this&&this['__decorate']||function(_0x423604,_0x31a248,_0x53edfd,_0x1cb118){const _0x510132=_0x33f8;var _0x431bf1=arguments[_0x510132(0x115)],_0x4dde4c=_0x431bf1<0x3?_0x31a248:_0x1cb118===null?_0x1cb118=Object[_0x510132(0xef)](_0x31a248,_0x53edfd):_0x1cb118,_0xc8d450;if(typeof Reflect==='object'&&typeof Reflect[_0x510132(0x100)]===_0x510132(0x104))_0x4dde4c=Reflect[_0x510132(0x100)](_0x423604,_0x31a248,_0x53edfd,_0x1cb118);else{for(var _0x20b340=_0x423604[_0x510132(0x115)]-0x1;_0x20b340>=0x0;_0x20b340--)if(_0xc8d450=_0x423604[_0x20b340])_0x4dde4c=(_0x431bf1<0x3?_0xc8d450(_0x4dde4c):_0x431bf1>0x3?_0xc8d450(_0x31a248,_0x53edfd,_0x4dde4c):_0xc8d450(_0x31a248,_0x53edfd))||_0x4dde4c;}return _0x431bf1>0x3&&_0x4dde4c&&Object['defineProperty'](_0x31a248,_0x53edfd,_0x4dde4c),_0x4dde4c;},__metadata=this&&this[_0x314ba2(0xdb)]||function(_0x28ffe6,_0x13e6e1){const _0x1e944d=_0x314ba2;if(typeof Reflect==='object'&&typeof Reflect[_0x1e944d(0xe9)]===_0x1e944d(0x104))return Reflect[_0x1e944d(0xe9)](_0x28ffe6,_0x13e6e1);};function _0x3ac2(){const _0x2687e7=['Стратегия\x20СЛЕЗА:\x20запущена','185248XrBjuK','drop','../stratagies/drop.shares','Wallet','decorate','48MsXwZC','shareFDA','Стратегии\x20запущены','function','ShareReports','./classes/trader.base.class','./services/share.halts','then','startTrading','unWatch','getShares','accountId','__esModule','ShareFda','7oOfcUz','298952tSgHqa','wallet','design:paramtypes','init','stoped','length','onCloseApi','shareDividends','shareHalts','options','./services/share.close','./services/share.reports','Api','initializeTrading','stopApi','watch','reloadOptions','shareFDA$','78704ZIuvxv','stopStratagies','\x1b[37m','initializeApi','Trader','shareHalts$','Стратегии\x20выключены','../api/api','__metadata','1371492pNazzk','BaseTrader','defineProperty','start','onCloseWallet','ShareDividends','startStratagies','api','sharesDrop','onOpenApi','Стратегия\x20СЛЕЗА:\x20выключена','shareDividends$','\x1b[36m%s\x1b[0m','metadata','\x1b[31m','settings','shareReports','1046710JwhiIH','451368xsMtZO','getOwnPropertyDescriptor','./services/share.fda','log','4930EFRVhM','./services/share.dividents','initializeOptions','stopTrading','15831ksCseA','DropShares','shareClose','shareReports$','enabled'];_0x3ac2=function(){return _0x2687e7;};return _0x3ac2();}Object[_0x314ba2(0xde)](exports,_0x314ba2(0x10d),{'value':!![]}),exports['Trader']=void 0x0;const common_1=require('@nestjs/common'),api_1=require(_0x314ba2(0xda)),drop_shares_1=require(_0x314ba2(0xfe)),trader_base_class_1=require(_0x314ba2(0x106)),wallet_1=require('./classes/wallet'),share_close_1=require(_0x314ba2(0xcb)),share_dividents_1=require(_0x314ba2(0xf3)),share_fda_1=require(_0x314ba2(0xf0)),share_halts_1=require(_0x314ba2(0x107)),share_reports_1=require(_0x314ba2(0xcc));let Trader=class Trader extends trader_base_class_1[_0x314ba2(0xdd)]{constructor(_0x1b7885,_0xe8c00f,_0x4ae28a,_0xd455b1,_0x10b30b){const _0x38128e=_0x314ba2;super(),this[_0x38128e(0x117)]=_0x1b7885,this[_0x38128e(0x102)]=_0xe8c00f,this['shareHalts']=_0x4ae28a,this[_0x38128e(0xec)]=_0xd455b1,this[_0x38128e(0xf8)]=_0x10b30b,this[_0x38128e(0x109)]()[_0x38128e(0x108)]();}async['startTrading'](){const _0x458f8f=_0x314ba2;this[_0x458f8f(0xf4)](),this['stopStratagies'](),await this[_0x458f8f(0xcf)](),await this[_0x458f8f(0xd6)](this[_0x458f8f(0x119)]),await this[_0x458f8f(0xf5)](),await this[_0x458f8f(0xce)](this[_0x458f8f(0x119)]);}async[_0x314ba2(0xd6)](_0x82a09e){const _0x38ecc6=_0x314ba2;var _0x52a1b9;if((_0x52a1b9=_0x82a09e===null||_0x82a09e===void 0x0?void 0x0:_0x82a09e[_0x38ecc6(0xeb)])===null||_0x52a1b9===void 0x0?void 0x0:_0x52a1b9['apiKey']){this['api']=new api_1[(_0x38ecc6(0xcd))]({'token':_0x82a09e['settings']['apiKey']}),this[_0x38ecc6(0xe5)]();const _0x18711f=await this[_0x38ecc6(0x10b)]();this[_0x38ecc6(0xe7)]=this[_0x38ecc6(0x117)][_0x38ecc6(0xd0)]([]),this[_0x38ecc6(0xd2)]=this['shareFDA'][_0x38ecc6(0xd0)]([]),this[_0x38ecc6(0xd8)]=this[_0x38ecc6(0x118)]['watch']([]),this[_0x38ecc6(0xf9)]=this[_0x38ecc6(0xec)][_0x38ecc6(0xd0)]([]);}}async[_0x314ba2(0xcf)](){const _0x3a03de=_0x314ba2;this['shareDividends'][_0x3a03de(0x10a)](),this[_0x3a03de(0x102)][_0x3a03de(0x10a)](),this[_0x3a03de(0x118)][_0x3a03de(0x10a)](),this['shareReports'][_0x3a03de(0x10a)](),this[_0x3a03de(0x116)]();}async[_0x314ba2(0xce)](_0x1128c6){const _0x4eff2f=_0x314ba2;if(!this[_0x4eff2f(0xe3)]||!_0x1128c6['settings'][_0x4eff2f(0x10c)])return;this[_0x4eff2f(0x111)]=new wallet_1[(_0x4eff2f(0xff))](this[_0x4eff2f(0xe3)],_0x1128c6['settings'][_0x4eff2f(0x10c)],this[_0x4eff2f(0x119)]),await this[_0x4eff2f(0x111)][_0x4eff2f(0x113)](),await this[_0x4eff2f(0xe2)](),this['onOpenWallet'](),console[_0x4eff2f(0xf1)](_0x4eff2f(0xe8),_0x4eff2f(0x103),_0x4eff2f(0xd5));}async[_0x314ba2(0xf5)](){const _0x27762b=_0x314ba2;this[_0x27762b(0xe0)](),this[_0x27762b(0xd4)](),console[_0x27762b(0xf1)](_0x27762b(0xea),_0x27762b(0xd9),_0x27762b(0xd5));}async[_0x314ba2(0xe2)](){const _0xeae07e=_0x314ba2;this[_0xeae07e(0xe4)]=new drop_shares_1[(_0xeae07e(0xf7))](this['api'],this[_0xeae07e(0x119)][_0xeae07e(0xfd)],this['wallet']),this['options'][_0xeae07e(0xfd)][_0xeae07e(0xfa)]&&(await this['sharesDrop'][_0xeae07e(0xdf)](this[_0xeae07e(0xe7)],this[_0xeae07e(0xd2)],this['shareHalts$'],this['shareReports$']),console['log'](_0xeae07e(0xe8),_0xeae07e(0xfb),_0xeae07e(0xd5)));}[_0x314ba2(0xd4)](){const _0x5806c2=_0x314ba2;this[_0x5806c2(0xe4)]&&this[_0x5806c2(0xe4)]['stop']();}[_0x314ba2(0xd1)](_0x967be){const _0x10cc00=_0x314ba2;var _0x2eac14;super[_0x10cc00(0xd1)](_0x967be),(_0x2eac14=this[_0x10cc00(0xe4)])===null||_0x2eac14===void 0x0?void 0x0:_0x2eac14['reloadOptions'](this[_0x10cc00(0x119)][_0x10cc00(0xfd)]),this[_0x10cc00(0xe4)]&&(!_0x967be[_0x10cc00(0xfd)][_0x10cc00(0xfa)]&&!this[_0x10cc00(0xe4)][_0x10cc00(0x114)]&&(this[_0x10cc00(0xe4)]['stop'](),console['log'](_0x10cc00(0xe8),_0x10cc00(0xe6),'\x1b[37m')),_0x967be[_0x10cc00(0xfd)][_0x10cc00(0xfa)]&&this[_0x10cc00(0xe4)][_0x10cc00(0x114)]&&(this[_0x10cc00(0xe4)][_0x10cc00(0xdf)](this[_0x10cc00(0xe7)],this[_0x10cc00(0xd2)],this[_0x10cc00(0xd8)],this[_0x10cc00(0xf9)])[_0x10cc00(0x108)](),console[_0x10cc00(0xf1)](_0x10cc00(0xe8),_0x10cc00(0xfb),'\x1b[37m')));}};Trader=__decorate([(0x0,common_1['Injectable'])(),__metadata(_0x314ba2(0x112),[share_dividents_1[_0x314ba2(0xe1)],share_fda_1[_0x314ba2(0x10e)],share_halts_1['ShareHalts'],share_reports_1[_0x314ba2(0x105)],share_close_1['ShareClose']])],Trader),exports[_0x314ba2(0xd7)]=Trader;