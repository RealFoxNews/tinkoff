'use strict';const _0x556648=_0x3963;(function(_0x127d12,_0x17adb8){const _0x59429f=_0x3963,_0x4018b8=_0x127d12();while(!![]){try{const _0x127203=parseInt(_0x59429f(0x73))/0x1+-parseInt(_0x59429f(0x88))/0x2+-parseInt(_0x59429f(0x85))/0x3*(parseInt(_0x59429f(0x97))/0x4)+-parseInt(_0x59429f(0x7e))/0x5*(parseInt(_0x59429f(0x8e))/0x6)+-parseInt(_0x59429f(0xb8))/0x7+-parseInt(_0x59429f(0x80))/0x8*(parseInt(_0x59429f(0x9f))/0x9)+parseInt(_0x59429f(0xb5))/0xa*(parseInt(_0x59429f(0x89))/0xb);if(_0x127203===_0x17adb8)break;else _0x4018b8['push'](_0x4018b8['shift']());}catch(_0x593803){_0x4018b8['push'](_0x4018b8['shift']());}}}(_0x2e54,0xc6c3b));var __decorate=this&&this['__decorate']||function(_0x168e04,_0x2c0a35,_0x2e7e6d,_0x29ad2c){const _0x1898ea=_0x3963;var _0x1d8595=arguments['length'],_0x373292=_0x1d8595<0x3?_0x2c0a35:_0x29ad2c===null?_0x29ad2c=Object[_0x1898ea(0x9b)](_0x2c0a35,_0x2e7e6d):_0x29ad2c,_0x45f000;if(typeof Reflect===_0x1898ea(0x7b)&&typeof Reflect[_0x1898ea(0x81)]===_0x1898ea(0xb3))_0x373292=Reflect['decorate'](_0x168e04,_0x2c0a35,_0x2e7e6d,_0x29ad2c);else{for(var _0x445e9d=_0x168e04[_0x1898ea(0x83)]-0x1;_0x445e9d>=0x0;_0x445e9d--)if(_0x45f000=_0x168e04[_0x445e9d])_0x373292=(_0x1d8595<0x3?_0x45f000(_0x373292):_0x1d8595>0x3?_0x45f000(_0x2c0a35,_0x2e7e6d,_0x373292):_0x45f000(_0x2c0a35,_0x2e7e6d))||_0x373292;}return _0x1d8595>0x3&&_0x373292&&Object['defineProperty'](_0x2c0a35,_0x2e7e6d,_0x373292),_0x373292;},__metadata=this&&this['__metadata']||function(_0x5aac53,_0x1b9104){const _0x311bd3=_0x3963;if(typeof Reflect===_0x311bd3(0x7b)&&typeof Reflect[_0x311bd3(0xab)]===_0x311bd3(0xb3))return Reflect[_0x311bd3(0xab)](_0x5aac53,_0x1b9104);};Object[_0x556648(0x95)](exports,'__esModule',{'value':!![]}),exports['Trader']=void 0x0;const common_1=require('@nestjs/common'),api_1=require(_0x556648(0x71)),drop_shares_1=require(_0x556648(0x6b)),trader_base_class_1=require('./classes/trader.base.class'),wallet_1=require(_0x556648(0x7c)),share_close_1=require(_0x556648(0xa0)),share_dividents_1=require('./services/share.dividents'),share_fda_1=require('./services/share.fda'),share_halts_1=require('./services/share.halts'),share_reports_1=require(_0x556648(0xa4));let Trader=class Trader extends trader_base_class_1[_0x556648(0x93)]{constructor(_0x107e22,_0x2e18be,_0x5535e3,_0x2570f5,_0x25928c){const _0x5cef45=_0x556648;super(),this[_0x5cef45(0x77)]=_0x107e22,this[_0x5cef45(0xb9)]=_0x2e18be,this[_0x5cef45(0xa6)]=_0x5535e3,this[_0x5cef45(0xac)]=_0x2570f5,this[_0x5cef45(0x6c)]=_0x25928c,this['startTrading']()[_0x5cef45(0x7a)]();}async[_0x556648(0x99)](){const _0x2721a1=_0x556648;this[_0x2721a1(0x6f)](),this['stopStratagies'](),await this[_0x2721a1(0xa7)](),await this['initializeApi'](this[_0x2721a1(0xa3)]),await this[_0x2721a1(0x7d)](),await this[_0x2721a1(0x98)](this[_0x2721a1(0xa3)]);}async[_0x556648(0xa1)](_0x2e248e){const _0x2c127e=_0x556648;var _0x5581a0;if((_0x5581a0=_0x2e248e===null||_0x2e248e===void 0x0?void 0x0:_0x2e248e[_0x2c127e(0x6e)])===null||_0x5581a0===void 0x0?void 0x0:_0x5581a0[_0x2c127e(0xa9)]){this[_0x2c127e(0x8d)]=new api_1[(_0x2c127e(0x9c))]({'token':_0x2e248e['settings'][_0x2c127e(0xa9)]}),this[_0x2c127e(0xb6)]();const _0x33a376=await this[_0x2c127e(0x92)]();this[_0x2c127e(0x78)]=this[_0x2c127e(0x77)][_0x2c127e(0x9a)]([]),this['shareFDA$']=this[_0x2c127e(0xb9)][_0x2c127e(0x9a)]([]),this['shareHalts$']=this[_0x2c127e(0xa6)][_0x2c127e(0x9a)]([]),this[_0x2c127e(0xa5)]=this[_0x2c127e(0xac)][_0x2c127e(0x9a)]([]);}}async[_0x556648(0xa7)](){const _0x2d030f=_0x556648;this[_0x2d030f(0x77)][_0x2d030f(0x87)](),this['shareFDA']['unWatch'](),this[_0x2d030f(0xa6)][_0x2d030f(0x87)](),this[_0x2d030f(0xac)]['unWatch'](),this[_0x2d030f(0x9e)]();}async[_0x556648(0x98)](_0x3abcf8){const _0x4402ee=_0x556648;if(!this[_0x4402ee(0x8d)]||!_0x3abcf8[_0x4402ee(0x6e)][_0x4402ee(0x94)])return;this[_0x4402ee(0xa8)]=new wallet_1[(_0x4402ee(0xb0))](this[_0x4402ee(0x8d)],_0x3abcf8[_0x4402ee(0x6e)]['accountId'],this['options']),await this[_0x4402ee(0xa8)][_0x4402ee(0xaf)](),await this[_0x4402ee(0x8f)](),this[_0x4402ee(0x70)](),console[_0x4402ee(0x72)](_0x4402ee(0x7f),'Стратегии\x20запущены',_0x4402ee(0x90));}async[_0x556648(0x7d)](){const _0x1e65b6=_0x556648;this[_0x1e65b6(0xae)](),this['stopStratagies'](),console['log'](_0x1e65b6(0xb7),_0x1e65b6(0x74),_0x1e65b6(0x90));}async[_0x556648(0x8f)](){const _0x2db75c=_0x556648;this[_0x2db75c(0x96)]=new drop_shares_1[(_0x2db75c(0xb2))](this[_0x2db75c(0x8d)],this[_0x2db75c(0xa3)][_0x2db75c(0x79)],this[_0x2db75c(0xa8)]),this[_0x2db75c(0xa3)][_0x2db75c(0x79)][_0x2db75c(0x8a)]&&(await this[_0x2db75c(0x96)][_0x2db75c(0x8b)](this[_0x2db75c(0x78)],this['shareFDA$'],this[_0x2db75c(0x86)],this[_0x2db75c(0xa5)]),console[_0x2db75c(0x72)](_0x2db75c(0x7f),'Стратегия\x20СЛЕЗА:\x20запущена',_0x2db75c(0x90)));}[_0x556648(0x8c)](){const _0x34c34c=_0x556648;this[_0x34c34c(0x96)]&&this['sharesDrop'][_0x34c34c(0xad)]();}[_0x556648(0xb1)](_0x185b26){const _0x2a1e15=_0x556648;var _0x381dd5;super[_0x2a1e15(0xb1)](_0x185b26),(_0x381dd5=this[_0x2a1e15(0x96)])===null||_0x381dd5===void 0x0?void 0x0:_0x381dd5[_0x2a1e15(0xb1)](this[_0x2a1e15(0xa3)][_0x2a1e15(0x79)]),this[_0x2a1e15(0x96)]&&(!_0x185b26['drop'][_0x2a1e15(0x8a)]&&!this[_0x2a1e15(0x96)]['stoped']&&(this['sharesDrop'][_0x2a1e15(0xad)](),console['log']('\x1b[36m%s\x1b[0m',_0x2a1e15(0x6d),'\x1b[37m')),_0x185b26[_0x2a1e15(0x79)][_0x2a1e15(0x8a)]&&this[_0x2a1e15(0x96)]['stoped']&&(this['sharesDrop'][_0x2a1e15(0x8b)](this['shareDividends$'],this[_0x2a1e15(0xa2)],this[_0x2a1e15(0x86)],this[_0x2a1e15(0xa5)])[_0x2a1e15(0x7a)](),console[_0x2a1e15(0x72)]('\x1b[36m%s\x1b[0m',_0x2a1e15(0x82),_0x2a1e15(0x90))));}};function _0x2e54(){const _0x260595=['Trader','shareDividends','shareDividends$','drop','then','object','./classes/wallet','stopTrading','1355HyVyIJ','\x1b[36m%s\x1b[0m','2872raxvfS','decorate','Стратегия\x20СЛЕЗА:\x20запущена','length','ShareFda','243231hvjajk','shareHalts$','unWatch','587538galdAs','48321691CRrBrl','enabled','start','stopStratagies','api','35592IJItqR','startStratagies','\x1b[37m','ShareHalts','getShares','BaseTrader','accountId','defineProperty','sharesDrop','60pykQHy','initializeTrading','startTrading','watch','getOwnPropertyDescriptor','Api','Injectable','onCloseApi','24399aIDiBA','./services/share.close','initializeApi','shareFDA$','options','./services/share.reports','shareReports$','shareHalts','stopApi','wallet','apiKey','design:paramtypes','metadata','shareReports','stop','onCloseWallet','init','Wallet','reloadOptions','DropShares','function','ShareReports','10CBlzQp','onOpenApi','\x1b[31m','1630587ZdgPYb','shareFDA','../stratagies/drop.shares','shareClose','Стратегия\x20СЛЕЗА:\x20выключена','settings','initializeOptions','onOpenWallet','../api/api','log','744944TgOyEw','Стратегии\x20выключены','ShareDividends'];_0x2e54=function(){return _0x260595;};return _0x2e54();}function _0x3963(_0x2e60f4,_0x4de600){const _0x2e54b9=_0x2e54();return _0x3963=function(_0x3963c0,_0x14f119){_0x3963c0=_0x3963c0-0x6b;let _0x27b62c=_0x2e54b9[_0x3963c0];return _0x27b62c;},_0x3963(_0x2e60f4,_0x4de600);}Trader=__decorate([(0x0,common_1[_0x556648(0x9d)])(),__metadata(_0x556648(0xaa),[share_dividents_1[_0x556648(0x75)],share_fda_1[_0x556648(0x84)],share_halts_1[_0x556648(0x91)],share_reports_1[_0x556648(0xb4)],share_close_1['ShareClose']])],Trader),exports[_0x556648(0x76)]=Trader;